{"version":3,"sources":["features/filter/filterSorting.module.css","features/movies/moviesPagination.module.css","context/authContext.tsx","api/movieApi.tsx","features/filter/filterSlice.tsx","app/store.tsx","serviceWorker.js","hooks/useClickOutSide.tsx","hooks/useAsync.tsx","style/search.svg","features/search/moviesSearchInput.tsx","style/error.png","app/Image.tsx","style/star.svg","features/search/moviesSearchItem.tsx","features/search/moviesSearchList.tsx","app/Spinner.tsx","app/lib.tsx","features/search/moviesSearchPage.tsx","style/github.svg","app/Toggle.tsx","app/Navbar.tsx","features/auth/AuthModal.tsx","features/auth/AuthLogin.tsx","features/auth/AuthSingup.tsx","features/auth/Auth.tsx","style/react-logo.png","app/Header.tsx","features/filter/filterGenres.tsx","features/filter/filterSorting.tsx","features/movies/moviesPagination.tsx","style/correct.svg","style/minus.svg","features/movies/moviesListItem.tsx","features/movies/MoviesList.tsx","features/movies/MoviesContainer.tsx","hooks/usePrevious.tsx","features/filter/filerPage.tsx","features/movies/MoviesContainerFavorite.tsx","features/movies/MovieDetails.tsx","features/movies/MoviesContainerDetails.tsx","app/App.tsx","index.tsx"],"names":["module","exports","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","favoriteList","setFavoriteList","isOpenLogin","setModalLogin","isOpenSingUp","setModalSingUp","getFaviriteList","docRef","a","get","userData","favorite","data","useEffect","auth","onAuthStateChanged","user","db","collection","doc","uid","then","exists","set","email","addToStorage","id","newList","update","deleteFromStorage","filter","movie","value","singup","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","console","log","signOut","handleLoginModal","handleSingUpModal","Provider","API_KEY","getUrl","options","search","page","movieId","sortBy","genres","getMovies","path","pathname","url","axios","moviesResponse","total_pages","results","moviesList","totalPages","mediaType","detailsUrl","castUrl","detailsResponse","creditsResponse","movieDetails","cast","message","list","Promise","all","map","response","gethGenres","fetchGenres","createAsyncThunk","filterSlice","createSlice","name","initialState","reducers","changeGenres","state","action","genre","find","payload","selected","extraReducers","builder","addCase","fulfilled","actions","store","configureStore","reducer","filterReducer","Boolean","window","location","hostname","match","useClickOutSide","ref","callbackOut","callbackOutInner","handleClick","e","current","contains","target","document","addEventListener","removeEventListener","asyncReducer","type","status","error","useAsync","useReducer","dispatch","isIdle","isLoading","isError","isSuccess","run","useCallback","promise","Input","styled","input","Button","button","MoviesSearchInput","onSearchChange","onSearchSubmit","setValue","inputEl","useRef","onSubmit","preventDefault","length","blur","body","style","overflow","onChange","currentTarget","placeholder","src","seach","alt","Image","size","fallback","setFallback","errored","setError","width","onError","Item","Link","Title","h2","Vote","span","Thumb","img","MoviesSearchItem","title","release_date","first_air_date","poster_path","vote_average","media_type","titleValue","dateValue","split","vote","toFixed","heading","link","poster","to","star","SearchItem","li","MoviesSearchList","memo","movies","displayName","Container","div","Dots","Dot","props","height","bgColor","Spinner","color","border","background","padding","Form","form","display","flexDirection","alignItems","fontSize","margin","maxWidth","Text","p","FormGroup","device","Search","HiddenContainer","MoviesSearchPage","isHidden","setHidden","history","useHistory","useLocation","wrapperRef","delay","debounce","key","previewList","slice","Wrapper","push","ContainerHidden","Toggle","onClick","Ð¡onditionContainer","Nav","nav","List","ul","ListHidden","activeClassName","NavLink","attrs","LinkGit","Icon","Navbar","classList","remove","Items","toggle","exact","href","rel","github","Modal","position","top","left","right","bottom","backgroundColor","InnerModal","h1","textAlign","AuthModal","forwardRef","isOpen","LoginButton","LinkContainer","AuthLogin","showRegister","handleSubmit","htmlFor","AuthSingup","showLogin","justifyContent","gridArea","Auth","loginRef","createRef","singUpRef","Head","header","Logo","Header","logo","Label","label","Checkmark","FilterGenres","useDispatch","useSelector","handleChange","checked","FilterSorting","active","handleSort","sortActivity","field","sortBtn","desc","asc","className","sort","item","Pagination","currentPage","onPageChange","pageCount","forcePage","marginPagesDisplayed","pageRangeDisplayed","nextLabel","previousLabel","containerClassName","pagination","MovieContainer","ContainerDesc","ContainerImg","Movie","movieData","isFav","add","ListItems","MoviesList","some","MoviesContainer","setPage","selectedGenres","previousOptions","usePrevious","isEqual","selectedItem","newPage","Filter","Sort","Genres","Movies","FilterPage","MoviesContainerFavorite","getFavorite","ContainerImage","ContainerInfo","Heading","Desc","Tagline","TextDesc","MovieDetails","onFavorite","similarMovie","statusSimilar","isFavorite","useParams","scrollTo","overview","tagline","runtime","episode_run_time","production_countries","budget","genresList","toLowerCase","join","countries","castList","formatBudget","toString","replace","MovieContainerDetails","dataDetails","fetchDetails","dataSimilar","fetchSimilar","getDetails","App","component","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e21d6705.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sort\":\"filterSorting_sort__BPqpo\",\"items\":\"filterSorting_items__3ejGR\",\"title\":\"filterSorting_title__1Loi0\",\"sortBtn\":\"filterSorting_sortBtn__a0Dfy\",\"desc\":\"filterSorting_desc__3102W\",\"asc\":\"filterSorting_asc__1rShr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"moviesPagination_pagination__Lcdt0\",\"active\":\"moviesPagination_active__NgahB\"};","import React, { useContext, useState, useEffect } from 'react'\r\nimport firebase from 'firebase/app'\r\n\r\nimport { auth, db } from './../index'\r\n\r\nexport type singupType = (\r\n  email: string,\r\n  password: string\r\n) => Promise<firebase.auth.UserCredential>\r\n\r\nexport type loginType = (\r\n  email: string,\r\n  password: string\r\n) => Promise<firebase.auth.UserCredential>\r\n\r\nexport type logoutType = () => Promise<void>\r\n\r\ninterface ValueProps {\r\n  currentUser: firebase.User | null\r\n  singup: singupType\r\n  login: loginType\r\n  logout: logoutType\r\n  handleLoginModal: (value: boolean) => void\r\n  handleSingUpModal: (value: boolean) => void\r\n  addToStorage: (id: string) => Promise<void>\r\n  deleteFromStorage: (id: string) => Promise<void>\r\n  favoriteList: string[]\r\n  isOpenLogin: boolean\r\n  isOpenSingUp: boolean\r\n}\r\n\r\nconst AuthContext = React.createContext({} as ValueProps)\r\n\r\nexport function useAuth(): ValueProps {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n  const [currentUser, setCurrentUser] = useState<firebase.User | null>(null)\r\n  const [favoriteList, setFavoriteList] = useState<string[]>([])\r\n  const [isOpenLogin, setModalLogin] = useState(false)\r\n  const [isOpenSingUp, setModalSingUp] = useState(false)\r\n\r\n  const singup: singupType = (email, password) => {\r\n    return auth.createUserWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  const login: loginType = (email, password) => {\r\n    return auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  const logout: logoutType = () => {\r\n    console.log('test')\r\n    return auth.signOut()\r\n  }\r\n  const handleLoginModal = (value: boolean) => {\r\n    setModalLogin(value)\r\n  }\r\n\r\n  const handleSingUpModal = (value: boolean) => {\r\n    setModalSingUp(value)\r\n  }\r\n\r\n  const getFaviriteList = async (\r\n    docRef: firebase.firestore.DocumentReference\r\n  ) => {\r\n    const userData = await docRef.get()\r\n    const favorite = userData.data()?.favorite as string[]\r\n    return favorite\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        const docRef = db.collection('users').doc(user.uid)\r\n        docRef.get().then(async (doc) => {\r\n          if (!doc.exists) {\r\n            db.collection('users')\r\n              .doc(user.uid)\r\n              .set({ email: user.email, favorite: [] })\r\n          } else {\r\n            const favorite = await getFaviriteList(docRef)\r\n            setFavoriteList(favorite)\r\n          }\r\n        })\r\n      } else {\r\n        setFavoriteList([])\r\n      }\r\n\r\n      setCurrentUser(user)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const addToStorage = async (id: string) => {\r\n    if (currentUser) {\r\n      const docRef = db.collection('users').doc(currentUser.uid)\r\n      const newList = [...favoriteList, id]\r\n      docRef.update('favorite', newList)\r\n      setFavoriteList(newList)\r\n    }\r\n  }\r\n\r\n  const deleteFromStorage = async (id: string) => {\r\n    if (currentUser) {\r\n      const docRef = db.collection('users').doc(currentUser.uid)\r\n      const newList = favoriteList.filter((movie) => movie !== id)\r\n      docRef.update('favorite', [...newList])\r\n      setFavoriteList(newList)\r\n    }\r\n  }\r\n\r\n  const value: ValueProps = {\r\n    currentUser,\r\n    favoriteList,\r\n    isOpenLogin,\r\n    isOpenSingUp,\r\n    addToStorage,\r\n    deleteFromStorage,\r\n    singup,\r\n    login,\r\n    logout,\r\n    handleLoginModal,\r\n    handleSingUpModal,\r\n  }\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\r\n}\r\n","import axios from 'axios'\r\nimport { request } from 'http'\r\nexport const API_KEY = 'api_key=33691dc9097a0a10121b027c1856edd7'\r\n\r\nexport interface Details {\r\n  id: string\r\n  title: string\r\n  vote_average: number\r\n  poster_path: string | null\r\n  overview: string\r\n  tagline: string\r\n  release_date: string\r\n  first_air_date: string\r\n  genres: [{ name: string; id: string }]\r\n  runtime: number\r\n  episode_run_time: number\r\n  name: string\r\n  production_countries: [{ name: string }]\r\n  media_type?: string\r\n  budget: number\r\n}\r\n\r\nexport interface MovieType {\r\n  id: string\r\n  title: string\r\n  vote_average: number\r\n  poster_path: string | null\r\n  release_date: string\r\n  first_air_date: string\r\n  name: string\r\n  media_type: string\r\n}\r\n\r\nexport interface MoviesResult {\r\n  page: number\r\n  totalPages: number\r\n  moviesList: MovieType[]\r\n}\r\n\r\nexport interface Options {\r\n  pathname: keyof typeof getUrl | '/favorite'\r\n  search?: string\r\n  page?: number\r\n  genres?: string[]\r\n  sortBy?: string\r\n  movieId?: string\r\n}\r\n\r\nexport interface Genre {\r\n  id: string\r\n  name: string\r\n  selected: boolean\r\n}\r\n\r\ninterface GenresProps {\r\n  genres: Genre[]\r\n}\r\n\r\nexport const getUrl = {\r\n  '/search': (options: Options): string =>\r\n    `https://api.themoviedb.org/3/search/multi?&${API_KEY}&query=${options.search}&page=${options.page}`,\r\n  '/top_rated': (options: Options): string =>\r\n    `https://api.themoviedb.org/3/movie/top_rated?&${API_KEY}&page=${options.page}`,\r\n  '/upcoming': (options: Options): string =>\r\n    `https://api.themoviedb.org/3/movie/upcoming?&${API_KEY}&page=${options.page}`,\r\n  '/popular': (options: Options): string =>\r\n    `https://api.themoviedb.org/3/movie/popular?&${API_KEY}&page=${options.page}`,\r\n  '/': (options: Options): string =>\r\n    `https://api.themoviedb.org/3/movie/popular?&${API_KEY}&page=${options.page}`,\r\n  '/movie': (options: Options): string =>\r\n    `https://api.themoviedb.org/3/movie/${options.movieId}?&${API_KEY}&language=en-US`,\r\n  '/tv': (options: Options): string =>\r\n    `https://api.themoviedb.org/3/tv/${options.movieId}?&${API_KEY}&language=en-US`,\r\n  '/filter': (options: Options): string =>\r\n    `https://api.themoviedb.org/3/discover/movie?&${API_KEY}&language=en-US&sort_by=${options.sortBy}&include_adult=false&include_video=false&page=${options.page}&with_genres=${options.genres}`,\r\n  '/credits': (options: Options): string =>\r\n    `https://api.themoviedb.org/3/movie/${options.movieId}/credits?&${API_KEY}&language=en-US`,\r\n  '/similar': (options: Options): string =>\r\n    `https://api.themoviedb.org/3/movie/${options.movieId}/similar?&${API_KEY}&language=en-USpage=1`,\r\n  '/favorite': (options: Options): string =>\r\n    `https://api.themoviedb.org/3/movie/${options.movieId}?&${API_KEY}&language=en-US`,\r\n}\r\n\r\nexport type fetchMovieType = keyof typeof getUrl\r\n\r\nexport type pathnameType = keyof typeof getUrl | '/favorite'\r\n\r\ninterface Cast {\r\n  id: number\r\n  name: string\r\n}\r\n\r\nexport interface DetailsResult {\r\n  movieDetails: Details\r\n  cast: Cast[]\r\n}\r\n\r\nexport type Status = 'indle' | 'fetching' | 'fetched' | 'error'\r\n\r\nexport const fetchSeach = async (\r\n  search: string,\r\n  page: number\r\n): Promise<MoviesResult> => {\r\n  const url = `//api.themoviedb.org/3/search/multi?&${API_KEY}&query=${search}&page=${page}`\r\n  const searchResponse = await fetch(url)\r\n  const searchList = await searchResponse.json()\r\n  return searchList\r\n}\r\n\r\nexport async function getMovies(options: Options): Promise<MoviesResult> {\r\n  const path = options.pathname\r\n\r\n  const url = getUrl[path](options)\r\n  const moviesResponse = await axios.get(url)\r\n  const { page, total_pages, results } = moviesResponse.data\r\n  return {\r\n    moviesList: results,\r\n    totalPages: total_pages,\r\n    page,\r\n  }\r\n}\r\n\r\nexport async function getDetails(\r\n  movieId: string,\r\n  mediaType = 'movie'\r\n): Promise<DetailsResult> {\r\n  const detailsUrl = `https://api.themoviedb.org/3/${mediaType}/${movieId}?&${API_KEY}&language=en-US`\r\n  const castUrl = `https://api.themoviedb.org/3/${mediaType}/${movieId}/credits?&${API_KEY}&language=en-US`\r\n  try {\r\n    console.log(mediaType)\r\n    const detailsResponse = await axios.get(detailsUrl)\r\n    const creditsResponse = await axios.get(castUrl)\r\n    return {\r\n      movieDetails: detailsResponse.data,\r\n      cast: creditsResponse.data.cast,\r\n    }\r\n  } catch (err) {\r\n    throw err.message\r\n  }\r\n}\r\n\r\nexport async function getFavorite(list: string[]): Promise<MovieType[]> {\r\n  console.log('tru get favor')\r\n  try {\r\n    const favoriteList = await Promise.all(\r\n      list.map(async (id) => {\r\n        const url = getUrl['/favorite']({ movieId: id, pathname: '/favorite' })\r\n        const response = await axios.get(url)\r\n        return response.data\r\n      })\r\n    )\r\n    return favoriteList\r\n  } catch (err) {\r\n    throw err.message\r\n  }\r\n}\r\n\r\nexport async function gethGenres(): Promise<GenresProps> {\r\n  const url = `https://api.themoviedb.org/3/genre/movie/list?${API_KEY}&language=en-US`\r\n  const { data } = await axios.get(url)\r\n  return data\r\n}\r\n\r\nexport const genresUrl = `https://api.themoviedb.org/3/genre/movie/list?${API_KEY}&language=en-US`\r\n","import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit'\r\n\r\nimport { gethGenres, Genre } from './../../api/movieApi'\r\n\r\ninterface FilterState {\r\n  genres: Genre[]\r\n  sortBy: string\r\n}\r\n\r\nconst initialState: FilterState = {\r\n  genres: [],\r\n  sortBy: 'popularity.desc',\r\n}\r\n\r\nexport const fetchGenres = createAsyncThunk('filter/fetchGenres', async () => {\r\n  const { genres } = await gethGenres()\r\n  return genres\r\n})\r\n\r\nconst filterSlice = createSlice({\r\n  name: 'filtet',\r\n  initialState,\r\n  reducers: {\r\n    changeGenres(state, action: PayloadAction<string>): void {\r\n      const genre = state.genres.find((genre) => {\r\n        return genre.id == action.payload\r\n      })\r\n      if (genre) {\r\n        genre.selected = !genre.selected\r\n      }\r\n    },\r\n    sortBy(state, action) {\r\n      state.sortBy =\r\n        state.sortBy === `${action.payload}.desc`\r\n          ? `${action.payload}.asc`\r\n          : `${action.payload}.desc`\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchGenres.fulfilled, (state, action) => {\r\n      state.genres = action.payload.map((genre) => ({\r\n        ...genre,\r\n        selected: false,\r\n      }))\r\n    })\r\n  },\r\n})\r\n\r\nexport const { changeGenres, sortBy } = filterSlice.actions\r\n\r\nexport default filterSlice.reducer\r\n","import { configureStore } from '@reduxjs/toolkit'\r\n\r\nimport moviesReducer from './../features/movies/moviesSlice'\r\nimport filterReducer from './../features/filter/filterSlice'\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    // movies: moviesReducer,\r\n    filter: filterReducer,\r\n  },\r\n})\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\n\r\nexport default store\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React, { useEffect } from 'react'\r\n\r\nexport function useClickOutSide(\r\n  ref: React.RefObject<HTMLElement>,\r\n  callbackOut: () => void,\r\n  callbackOutInner?: () => void\r\n): void {\r\n  const handleClick = (e: MouseEvent) => {\r\n    if (ref.current && !ref.current.contains(e.target as Node)) {\r\n      callbackOut()\r\n    } else {\r\n      callbackOutInner && callbackOutInner()\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleClick, true)\r\n    return () => {\r\n      document.removeEventListener('click', handleClick, true)\r\n    }\r\n  })\r\n}\r\n","import React, { Reducer, useReducer, useCallback } from 'react'\r\n\r\ntype State<T> = {\r\n  data: null | T\r\n  status: string\r\n  error: null | string\r\n}\r\n\r\ntype Action<T> =\r\n  | { type: 'pending' }\r\n  | { type: 'resolved'; data: T }\r\n  | { type: 'rejected'; error: string }\r\n\r\nfunction asyncReducer<T>(state: State<T>, action: Action<T>): State<T> {\r\n  switch (action.type) {\r\n    case 'pending': {\r\n      return { status: 'pending', data: null, error: null }\r\n    }\r\n    case 'resolved': {\r\n      return { status: 'resolved', data: action.data, error: null }\r\n    }\r\n    case 'rejected': {\r\n      return { status: 'rejected', data: null, error: action.error }\r\n    }\r\n  }\r\n}\r\n\r\nfunction useAsync<T>() {\r\n  const [state, dispatch] = useReducer<Reducer<State<T>, Action<T>>>(\r\n    asyncReducer,\r\n    {\r\n      status: 'idle',\r\n      data: null,\r\n      error: null,\r\n    }\r\n  )\r\n\r\n  const { data, error, status } = state\r\n\r\n  const run = useCallback((promise: Promise<T>) => {\r\n    dispatch({ type: 'pending' })\r\n    promise.then(\r\n      (data) => {\r\n        dispatch({ type: 'resolved', data })\r\n      },\r\n      (error: Error) => {\r\n        dispatch({ type: 'rejected', error: error.message })\r\n      }\r\n    )\r\n  }, [])\r\n\r\n  return {\r\n    isIdle: status === 'idle',\r\n    isLoading: status === 'pending',\r\n    isError: status === 'rejected',\r\n    isSuccess: status === 'resolved',\r\n    error,\r\n    status,\r\n    data,\r\n    run,\r\n  }\r\n}\r\n\r\nexport { useAsync }\r\n","export default __webpack_public_path__ + \"static/media/search.ef256dae.svg\";","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport seach from './../../style/search.svg'\r\n\r\ninterface InputProps {\r\n  onSearchChange(value: string): void\r\n  onSearchSubmit(value: string): void\r\n}\r\n\r\nconst Input = styled.input`\r\n  box-sizing: border-box;\r\n  outline: none;\r\n  border: none;\r\n  padding: 10px;\r\n  padding-left: 40px;\r\n  width: 100%;\r\n  color: #fff;\r\n  font-size: 18px;\r\n  background: transparent;\r\n  border-bottom: 1px solid #0f9fbf;\r\n`\r\n\r\nconst Button = styled.button`\r\n  width: 30px;\r\n  position: absolute;\r\n  right: 8px;\r\n  top: 13px;\r\n  outline: none;\r\n`\r\n\r\nexport const MoviesSearchInput = ({\r\n  onSearchChange,\r\n  onSearchSubmit,\r\n}: InputProps) => {\r\n  const [value, setValue] = useState('')\r\n  const inputEl = React.useRef<HTMLInputElement>(null!)\r\n\r\n  const handleChange = (e: React.FormEvent<HTMLInputElement>): void => {\r\n    const value = e.currentTarget.value\r\n    setValue(value)\r\n    onSearchChange(value)\r\n  }\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>): void => {\r\n    e.preventDefault()\r\n    if (value.length) {\r\n      onSearchSubmit(value)\r\n      inputEl.current.blur()\r\n      document.body.style.overflow = 'auto'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit}>\r\n        <Input\r\n          ref={inputEl}\r\n          type='text'\r\n          value={value}\r\n          onChange={handleChange}\r\n          placeholder='Seacrh movie...'\r\n        />\r\n        <Button>\r\n          <img src={seach} alt='seach' />\r\n        </Button>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/error.3b399b81.png\";","import React, { useState, useEffect } from 'react'\r\nimport error from './../style/error.png'\r\n\r\ninterface Props {\r\n  src: string\r\n  size?: string\r\n}\r\n\r\nexport const Image = ({ src, size = '100%' }: Props) => {\r\n  const [fallback, setFallback] = useState(src)\r\n  const [errored, setError] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setFallback(src)\r\n  }, [src])\r\n\r\n  const handleError = () => {\r\n    if (!errored) {\r\n      setError(true)\r\n      setFallback(error)\r\n    }\r\n  }\r\n\r\n  const style = {\r\n    width: size,\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <img src={fallback} onError={handleError} alt='poster' style={style} />\r\n    </>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/star.1ade1c8f.svg\";","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { MovieType } from '../../api/movieApi'\r\nimport { Image } from './../../app/Image'\r\n\r\nimport star from './../../style/star.svg'\r\n\r\ntype Props = { movie: MovieType }\r\n\r\nconst Item = styled(Link)`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-right: 20px;\r\n  color: #fff;\r\n`\r\n\r\nconst Title = styled.h2`\r\n  font-size: 19px;\r\n  font-weight: 400;\r\n`\r\n\r\nconst Vote = styled.span`\r\n  font-size: 19px;\r\n`\r\n\r\nconst Thumb = styled.img`\r\n  width: 12px;\r\n  margin-left: 5px;\r\n`\r\n\r\nexport const MoviesSearchItem = ({ movie }: Props) => {\r\n  const {\r\n    title,\r\n    name,\r\n    release_date,\r\n    first_air_date,\r\n    poster_path,\r\n    id,\r\n    vote_average,\r\n    media_type,\r\n  } = movie\r\n\r\n  const titleValue = title || name\r\n  const dateValue =\r\n    release_date || first_air_date\r\n      ? `(${(release_date || first_air_date).split(/-/)[0]})`\r\n      : null\r\n\r\n  const vote = vote_average ? vote_average.toFixed(1) : 0\r\n  const heading = `${titleValue} ${dateValue}`\r\n  const link = `/${media_type ? media_type : 'movie'}/${id}`\r\n\r\n  const poster = `https://image.tmdb.org/t/p/w300/${poster_path}`\r\n  return (\r\n    <Item to={link}>\r\n      <Image src={poster} size={'50px'} />\r\n      <Title>{heading}</Title>\r\n      <Vote>\r\n        {vote}\r\n        <Thumb src={star} alt='vote' />\r\n      </Vote>\r\n    </Item>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { MovieType } from '../../api/movieApi'\r\nimport { MoviesSearchItem } from './moviesSearchItem'\r\n\r\ninterface Props {\r\n  movies: MovieType[]\r\n}\r\n\r\nconst SearchItem = styled.li`\r\n  border: 1px solid #2f2f2f;\r\n  padding: 5px;\r\n  &:hover {\r\n    background-color: #494949;\r\n  }\r\n`\r\n\r\nexport const MoviesSearchList = React.memo(({ movies }: Props) => {\r\n  return (\r\n    <ul>\r\n      {movies.map((movie: MovieType) => (\r\n        <SearchItem key={movie.id}>\r\n          <MoviesSearchItem movie={movie} />\r\n        </SearchItem>\r\n      ))}\r\n    </ul>\r\n  )\r\n})\r\n\r\nMoviesSearchList.displayName = 'MoviesSearchList'\r\n","import React from 'react'\r\nimport { StringDecoder } from 'string_decoder'\r\nimport styled from 'styled-components'\r\n\r\nconst Container = styled.div`\r\n  text-align: center;\r\n`\r\nconst Dots = styled.div`\r\n  padding: 5px;\r\n`\r\n\r\ntype DotProps = {\r\n  bgColor?: string\r\n  width?: string\r\n  height?: string\r\n}\r\nconst Dot = styled.div<DotProps>`\r\n  width: ${(props) => props.width || '20px'};\r\n  height: ${(props) => props.height || '20px'};\r\n  background-color: transparent;\r\n  position: relative;\r\n  display: inline-block;\r\n\r\n  &::after {\r\n    transform: scale(0.2);\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 1;\r\n    content: '';\r\n    border-radius: 50%;\r\n    background-color: ${(props) => props.bgColor || '#000000'};\r\n    width: ${(props) => props.width || '20px'};\r\n    height: ${(props) => props.height || '20px'};\r\n    display: inline-block;\r\n    animation-name: scale;\r\n    animation-duration: 900ms;\r\n    animation-iteration-count: infinite;\r\n  }\r\n\r\n  &:nth-child(2)::after {\r\n    animation-delay: 150ms;\r\n  }\r\n\r\n  &:nth-child(3)::after {\r\n    animation-delay: 300ms;\r\n  }\r\n\r\n  @keyframes scale {\r\n    0% {\r\n      transform: scale(0.2);\r\n    }\r\n    50% {\r\n      transform: scale(1);\r\n    }\r\n    100% {\r\n      transform: scale(0.2);\r\n    }\r\n  }\r\n`\r\n\r\ntype SpinnerProps = {\r\n  color?: string\r\n  width?: string\r\n  height?: string\r\n}\r\n\r\nexport const Spinner = ({ color, width, height }: SpinnerProps) => {\r\n  return (\r\n    <Container>\r\n      <Dots>\r\n        <Dot width={width} height={height} bgColor={color} />\r\n        <Dot width={width} height={height} bgColor={color} />\r\n        <Dot width={width} height={height} bgColor={color} />\r\n      </Dots>\r\n    </Container>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\n\r\nconst Input = styled.input({\r\n  border: '1px solid #f1f1f4',\r\n  background: '#f1f2f7',\r\n  padding: '8px 12px',\r\n})\r\n\r\nconst Button = styled.button`\r\n  padding: 7px 15px;\r\n  height: 38px;\r\n  border: none;\r\n  outline: none;\r\n  lineheight: 1;\r\n  border-radius: 5px;\r\n  margin: 0 auto;\r\n`\r\n\r\nconst Form = styled.form({\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'stretch',\r\n  fontSize: '18px',\r\n  '> div': {\r\n    margin: '10px auto',\r\n    width: '100%',\r\n    maxWidth: '300px',\r\n  },\r\n})\r\n\r\ninterface TitleProps {\r\n  size?: string\r\n  color?: string\r\n}\r\n\r\nconst Title = styled.h2<TitleProps>`\r\n  font-size: ${(props) => props.size || '18px'};\r\n  color: ${(props) => props.color || '#fff'};\r\n  margin-bottom: 15px;\r\n`\r\n\r\ninterface TextProps {\r\n  size?: string\r\n}\r\n\r\nconst Text = styled.p<TextProps>`\r\n  font-size: ${(props) => props.size || '18px'};\r\n  color: #dcdcdc;\r\n  font-weight: 400;\r\n`\r\ninterface ThumbProps {\r\n  size?: string\r\n}\r\nconst Thumb = styled.img<ThumbProps>`\r\n  width: ${(props) => props.width || '10px'};\r\n  margin-left: 5px;\r\n`\r\n\r\nconst FormGroup = styled.div({\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n})\r\n\r\nconst device = {\r\n  mobileM: `(max-width: 400px)`,\r\n  mobileL: `(max-width: 520px)`,\r\n  laptopS: `(max-width: 768px)`,\r\n  laptopM: `(max-width: 1000px)`,\r\n  laptopL: `(max-width: 1380px)`,\r\n}\r\n\r\nexport { Input, FormGroup, Form, Button, Title, Text, device, Thumb }\r\n","import React, { useState, useEffect, useCallback } from 'react'\r\nimport { debounce } from 'lodash'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { useClickOutSide } from '../../hooks/useClickOutSide'\r\nimport { useAsync } from '../../hooks/useAsync'\r\nimport { getMovies, MoviesResult } from '../../api/movieApi'\r\nimport { MoviesSearchInput } from './moviesSearchInput'\r\nimport { MoviesSearchList } from './moviesSearchList'\r\nimport { Spinner } from '../../app/Spinner'\r\nimport { Title } from '../../app/lib'\r\nimport styled from 'styled-components'\r\n\r\nconst Search = styled.div`\r\n  grid-area: in;\r\n  position: relative;\r\n  z-index: 20;\r\n  grid-area: in;\r\n`\r\n\r\nconst Container = styled.div`\r\n  position: absolute;\r\n  width: 100%;\r\n  background: #212121;\r\n  z-index: 10;\r\n`\r\n\r\nconst HiddenContainer = styled(Container)`\r\n  display: none;\r\n`\r\nconst Text = styled.div`\r\n  text-align: center;\r\n  padding: 15px 5px;\r\n`\r\n\r\nexport const MoviesSearchPage = () => {\r\n  const [isHidden, setHidden] = useState(false)\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n\r\n  const wrapperRef = React.useRef<HTMLDivElement | null>(null)\r\n\r\n  const {\r\n    run,\r\n    data,\r\n    isLoading,\r\n    error,\r\n    isError,\r\n    isSuccess,\r\n  } = useAsync<MoviesResult>()\r\n\r\n  const delay = useCallback(\r\n    debounce((value: string) => {\r\n      if (value.length) {\r\n        run(getMovies({ pathname: '/search', search: value }))\r\n      }\r\n    }, 500),\r\n    []\r\n  )\r\n\r\n  useEffect(() => {\r\n    setHidden(true)\r\n  }, [location.key])\r\n\r\n  useClickOutSide(\r\n    wrapperRef,\r\n    () => setHidden(true),\r\n    () => setHidden(false)\r\n  )\r\n\r\n  const onSearchSubmit = (value: string): void => {\r\n    history.push({\r\n      pathname: '/search',\r\n      search: value,\r\n    })\r\n  }\r\n\r\n  let previewList\r\n\r\n  if (isSuccess && data?.moviesList.length === 0) {\r\n    previewList = (\r\n      <Text>\r\n        <Title size={'25px'} color={'#fff'}>\r\n          Not found\r\n        </Title>\r\n      </Text>\r\n    )\r\n  } else if (isError) {\r\n    previewList = (\r\n      <Text>\r\n        <Title size={'25px'} color={'#fff'}>\r\n          {error}\r\n        </Title>\r\n      </Text>\r\n    )\r\n  } else if (isSuccess && data) {\r\n    previewList = <MoviesSearchList movies={data.moviesList.slice(0, 5)} />\r\n  } else if (isLoading) {\r\n    previewList = <Spinner color={'#fff'} width={'15px'} height={'15px'} />\r\n  }\r\n\r\n  const Wrapper = isHidden ? HiddenContainer : Container\r\n\r\n  return (\r\n    <>\r\n      <Search ref={wrapperRef}>\r\n        <MoviesSearchInput\r\n          onSearchChange={delay}\r\n          onSearchSubmit={onSearchSubmit}\r\n        />\r\n        <Wrapper>{previewList}</Wrapper>\r\n      </Search>\r\n    </>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/github.043209f0.svg\";","import React from 'react'\r\nimport { device } from './lib'\r\nimport styled from 'styled-components'\r\n\r\nconst Container = styled.div`\r\n  display: none;\r\n  z-index: 1;\r\n  position: relative;\r\n  span {\r\n    display: none;\r\n    width: 33px;\r\n    height: 4px;\r\n    margin-bottom: 5px;\r\n    position: relative;\r\n    background: #ffffff;\r\n    border-radius: 3px;\r\n    z-index: 1;\r\n    transform-origin: 4px 0px;\r\n    transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1),\r\n      background 0.5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity 0.55s ease;\r\n  }\r\n\r\n  @media ${device.laptopM} {\r\n    display: block;\r\n    span {\r\n      display: block;\r\n    }\r\n  }\r\n\r\n  span:first-child {\r\n    transform-origin: 0% 0%;\r\n  }\r\n\r\n  span:nth-last-child(1) {\r\n    transform-origin: 0% 100%;\r\n  }\r\n`\r\nconst ContainerHidden = styled(Container)`\r\n  span {\r\n    opacity: 1;\r\n    transform: rotate(45deg) translate(-2px, -1px);\r\n    background: #ffffff;\r\n  }\r\n\r\n  span:nth-last-child(2) {\r\n    opacity: 0;\r\n    transform: rotate(0deg) scale(0.2, 0.2);\r\n  }\r\n\r\n  span:nth-last-child(1) {\r\n    transform: rotate(-45deg) translate(0, -1px);\r\n  }\r\n`\r\nconst Button = styled.button`\r\n  width: 40px;\r\n  height: 32px;\r\n  position: absolute;\r\n  top: -7px;\r\n  left: -5px;\r\n  z-index: 2;\r\n  outline: none;\r\n`\r\n\r\ntype PropsToggle = {\r\n  isHidden: boolean\r\n  onClick: () => void\r\n}\r\n\r\nexport default function Toggle({ isHidden, onClick }: PropsToggle) {\r\n  const Ð¡onditionContainer = isHidden ? Container : ContainerHidden\r\n  return (\r\n    <Ð¡onditionContainer>\r\n      <Button onClick={onClick}></Button>\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n    </Ð¡onditionContainer>\r\n  )\r\n}\r\n","import React, { useEffect, useRef } from 'react'\r\nimport { NavLink, useLocation } from 'react-router-dom'\r\nimport github from './../style/github.svg'\r\nimport styled from 'styled-components'\r\nimport { device } from './lib'\r\n// import style from './navbar.module.css'\r\nimport Toggle from './Toggle'\r\nimport { useClickOutSide } from './../hooks/useClickOutSide'\r\n\r\nconst Nav = styled.nav`\r\n  grid-area: nv;\r\n  font-size: 20px;\r\n  transition: ease 0.3s;\r\n  media ${device.laptopM} {\r\n    justify-self: center;\r\n  }\r\n`\r\n\r\nconst List = styled.ul`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  @media ${device.laptopM} {\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n    box-sizing: border-box;\r\n    position: absolute;\r\n    z-index: 100;\r\n    left: 0;\r\n    bottom: -329px;\r\n    width: 250px;\r\n    background-color: #212121;\r\n    -webkit-font-smoothing: antialiased;\r\n    transform-origin: 0% 0%;\r\n    transform: translate(-100%, 0);\r\n    transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1);\r\n  }\r\n`\r\n\r\nconst ListHidden = styled(List)`\r\n  transform: none;\r\n`\r\n\r\nconst Item = styled.li`\r\n  cursor: pointer;\r\n  @media ${device.laptopM} {\r\n    width: 100%;\r\n    margin-left: 40px;\r\n    display: block;\r\n  }\r\n  @media ${device.mobileM} {\r\n    margin-left: 0;\r\n  }\r\n`\r\nconst activeClassName = 'nav-item-active'\r\n\r\nconst Link = styled(NavLink).attrs({ activeClassName })`\r\n  &.${activeClassName} {\r\n    &::after {\r\n      transform: scaleY(1);\r\n    }\r\n    @media ${device.laptopM} {\r\n      background-color: #252525;\r\n    }\r\n  }\r\n  display: inline-block;\r\n  color: #fff;\r\n  font-weight: 400;\r\n  line-height: 60px;\r\n  position: relative;\r\n  transition: color 0.3s ease;\r\n  &:hover {\r\n    color: #999;\r\n  }\r\n\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    background-color: #fff;\r\n    width: 100%;\r\n    height: 4px;\r\n    bottom: 0px;\r\n    left: 0;\r\n    transform: scaleY(0);\r\n    transform-origin: bottom;\r\n    transition: transform 235ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  }\r\n\r\n  @media ${device.laptopM} {\r\n    display: block;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    padding-left: 25px;\r\n    &::after {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst LinkGit = styled.a`\r\n  @media ${device.laptopM} {\r\n    margin-left: 25px;\r\n    padding-bottom: 20px;\r\n    display: inline-block;\r\n  }\r\n`\r\n\r\nconst Icon = styled.img`\r\n  transition: opacity 0.3s ease;\r\n  width: 25px;\r\n  &:hover {\r\n    opacity: 0.6;\r\n  }\r\n`\r\n\r\nexport function Navbar(): JSX.Element {\r\n  const wrapperRef = useRef<HTMLElement | null>(null)\r\n  const location = useLocation()\r\n  const [isHidden, setHidden] = React.useState<boolean>(true)\r\n\r\n  useClickOutSide(wrapperRef, () => {\r\n    document.body.classList.remove('overlay')\r\n    setHidden(true)\r\n  })\r\n\r\n  useEffect(() => {\r\n    setHidden(true)\r\n    document.body.classList.remove('overlay')\r\n  }, [location.key])\r\n\r\n  const handleClickBtn = () => {\r\n    if (isHidden) {\r\n      setHidden(false)\r\n      document.body.classList.toggle('overlay')\r\n    } else {\r\n      setHidden(true)\r\n      document.body.classList.toggle('overlay')\r\n    }\r\n  }\r\n\r\n  const Items = isHidden ? List : ListHidden\r\n  return (\r\n    <Nav ref={wrapperRef}>\r\n      <Toggle isHidden={isHidden} onClick={() => handleClickBtn()} />\r\n      <Items>\r\n        <Item>\r\n          <Link exact to='/'>\r\n            Popular\r\n          </Link>\r\n        </Item>\r\n        <Item>\r\n          <Link to='/upcoming'>Up comning</Link>\r\n        </Item>\r\n        <Item>\r\n          <Link to='/top_rated'>Top rated</Link>\r\n        </Item>\r\n        <Item>\r\n          <Link to='/favorite'>Favorite</Link>\r\n        </Item>\r\n        <Item>\r\n          <Link to='/filter'>Filter</Link>\r\n        </Item>\r\n        <Item>\r\n          <LinkGit\r\n            href='https://github.com/ethnicolr/Movie-Search'\r\n            target='_blank'\r\n            rel='noopener noreferrer'\r\n          >\r\n            <Icon src={github} alt='github' width='40' />\r\n          </LinkGit>\r\n        </Item>\r\n      </Items>\r\n    </Nav>\r\n  )\r\n}\r\n","/* eslint react/prop-types: 0 */\r\nimport React from 'react'\r\nimport styled from 'styled-components'\r\nimport { device } from '../../app/lib'\r\n\r\nconst Modal = styled.div({\r\n  position: 'fixed',\r\n  width: '100%',\r\n  height: '100%',\r\n  top: '0',\r\n  left: '0',\r\n  right: '0',\r\n  bottom: '0',\r\n  margin: 'auto',\r\n  backgroundColor: 'rgba(0,0,0, 0.5)',\r\n})\r\n\r\nconst InnerModal = styled.div`\r\n  position: absolute;\r\n  left: 25%;\r\n  right: 25%;\r\n  top: 25%;\r\n  bottom: 25%;\r\n  width: 350px;\r\n  height: fit-content;\r\n  margin: auto;\r\n  background: white;\r\n  border-radius: 2%;\r\n  padding: 20px 10px;\r\n  @media ${device.laptopM} {\r\n    left: 10%;\r\n    right: 10%;\r\n    width: 78vw;\r\n  }\r\n`\r\n\r\nconst Title = styled.h1({\r\n  textAlign: 'center',\r\n})\r\n\r\ntype Props = {\r\n  isOpen: boolean\r\n  title: string\r\n  children?: React.ReactNode\r\n}\r\ntype Ref = HTMLDivElement\r\n\r\nexport const AuthModal = React.forwardRef<Ref, Props>((props, ref) => {\r\n  if (!props.isOpen) return null\r\n  return (\r\n    <Modal>\r\n      <InnerModal ref={ref}>\r\n        <Title>{props.title}</Title>\r\n        {props.children}\r\n      </InnerModal>\r\n    </Modal>\r\n  )\r\n})\r\n\r\nAuthModal.displayName = 'AuthModal'\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Spinner } from '../../app/Spinner'\r\nimport { useAuth, singupType, loginType } from '../../context/authContext'\r\nimport { Input, FormGroup, Form, Button } from './../../app/lib'\r\nimport { useAsync } from './../../hooks/useAsync'\r\n\r\nconst LoginButton = styled(Button)`\r\n  background-color: #0b0b0b;\r\n  color: #fff;\r\n  width: 100%;\r\n`\r\nconst Link = styled.a`\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-weight: 400;\r\n  color: #0366d6;\r\n`\r\nconst LinkContainer = styled.p`\r\n  padding: 15px 20px;\r\n  text-align: center;\r\n  border: 1px solid var(--color-border-tertiary);\r\n  border-radius: 6px;\r\n  font-weight: 400;\r\n`\r\n\r\ntype FormProps = {\r\n  showRegister: () => void\r\n}\r\n\r\nexport function AuthLogin({ showRegister }: FormProps): JSX.Element {\r\n  const { login } = useAuth()\r\n\r\n  const { run, error, isLoading, isError } = useAsync()\r\n\r\n  const handleSubmit = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault()\r\n    const target = e.target as typeof e.target & {\r\n      email: { value: string }\r\n      password: { value: string }\r\n    }\r\n    const email = target.email.value\r\n    const password = target.password.value\r\n\r\n    run(login(email, password))\r\n  }\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <FormGroup>\r\n        <label htmlFor='email'>Email</label>\r\n        <Input id='email' type='text' />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <label htmlFor='password'>Password</label>\r\n        <Input id='password' type='password' />\r\n      </FormGroup>\r\n      <div>\r\n        <LoginButton type='submit'>\r\n          {isLoading ? (\r\n            <Spinner color={'#fff'} width={'15px'} height={'15px'} />\r\n          ) : (\r\n            'Login'\r\n          )}\r\n        </LoginButton>\r\n      </div>\r\n      <FormGroup>{isError && <p>{error}</p>}</FormGroup>\r\n\r\n      <LinkContainer>\r\n        Need account?\r\n        <Link onClick={showRegister}> Create an account.</Link>\r\n      </LinkContainer>\r\n    </Form>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Input, FormGroup, Form, Button } from './../../app/lib'\r\n\r\nimport { useAuth, singupType, loginType } from '../../context/authContext'\r\nimport { useAsync } from '../../hooks/useAsync'\r\nimport { Spinner } from '../../app/Spinner'\r\n\r\nconst LoginButton = styled(Button)`\r\n  background-color: #0b0b0b;\r\n  color: #fff;\r\n  width: 100%;\r\n`\r\nconst Link = styled.a`\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-weight: 400;\r\n  color: #0366d6;\r\n`\r\nconst LinkContainer = styled.p`\r\n  padding: 15px 20px;\r\n  text-align: center;\r\n  border: 1px solid var(--color-border-tertiary);\r\n  border-radius: 6px;\r\n  font-weight: 400;\r\n`\r\ntype FormProps = {\r\n  showLogin: () => void\r\n}\r\n\r\nexport function AuthSingup({ showLogin }: FormProps): JSX.Element {\r\n  const { login, singup } = useAuth()\r\n  const { run, error, isLoading, isError } = useAsync()\r\n\r\n  const handleSubmit = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault()\r\n\r\n    const target = e.target as typeof e.target & {\r\n      email: { value: string }\r\n      password: { value: string }\r\n    }\r\n    const email = target.email.value\r\n    const password = target.password.value\r\n\r\n    run(singup(email, password))\r\n  }\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <FormGroup>\r\n        <label htmlFor='email'>Email</label>\r\n        <Input id='email' type='text' />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <label htmlFor='password'>Password</label>\r\n        <Input id='password' type='password' />\r\n      </FormGroup>\r\n\r\n      <div>\r\n        <LoginButton type='submit'>\r\n          {isLoading ? (\r\n            <Spinner color={'#fff'} width={'15px'} height={'15px'} />\r\n          ) : (\r\n            'Register'\r\n          )}\r\n        </LoginButton>\r\n      </div>\r\n\r\n      <FormGroup>{isError && <p>{error}</p>}</FormGroup>\r\n      <LinkContainer>\r\n        <Link onClick={showLogin}>Login</Link>\r\n      </LinkContainer>\r\n    </Form>\r\n  )\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { useAuth } from '../../context/authContext'\r\nimport { AuthModal } from './AuthModal'\r\nimport { AuthLogin } from './AuthLogin'\r\nimport { AuthSingup } from './AuthSingup'\r\nimport { useClickOutSide } from './../../hooks/useClickOutSide'\r\n\r\nconst Button = styled.button`\r\n  color: #fff;\r\n  font-weight: normal;\r\n  font-size: 20px;\r\n  transition: color 0.3s ease;\r\n  outline: none;\r\n  &:hover {\r\n    color: #999;\r\n  }\r\n`\r\n\r\nconst Container = styled.div({\r\n  display: 'flex',\r\n  justifyContent: 'flex-end',\r\n  gridArea: 'at',\r\n})\r\n\r\nexport function Auth(): JSX.Element {\r\n  const loginRef = React.createRef<HTMLDivElement>()\r\n  const singUpRef = React.createRef<HTMLDivElement>()\r\n\r\n  const {\r\n    currentUser,\r\n    logout,\r\n    isOpenLogin,\r\n    isOpenSingUp,\r\n    handleLoginModal,\r\n    handleSingUpModal,\r\n  } = useAuth()\r\n\r\n  useClickOutSide(loginRef, () => handleLoginModal(false))\r\n  useClickOutSide(singUpRef, () => handleSingUpModal(false))\r\n\r\n  return (\r\n    <Container>\r\n      {currentUser ? (\r\n        <Button onClick={() => logout()}>logout</Button>\r\n      ) : (\r\n        <Fragment>\r\n          <Button onClick={() => handleLoginModal(true)}>Login</Button>\r\n          <Button onClick={() => handleSingUpModal(true)}>Registr</Button>\r\n\r\n          <AuthModal title={'Login'} isOpen={isOpenLogin} ref={loginRef}>\r\n            <Button onClick={() => handleLoginModal(false)}>Close</Button>\r\n            <AuthLogin\r\n              showRegister={() => {\r\n                handleSingUpModal(true)\r\n                handleLoginModal(false)\r\n              }}\r\n            />\r\n          </AuthModal>\r\n\r\n          <AuthModal title={'Register'} isOpen={isOpenSingUp} ref={singUpRef}>\r\n            <Button onClick={() => handleSingUpModal(false)}>Close</Button>\r\n            <AuthSingup\r\n              showLogin={() => {\r\n                handleLoginModal(true)\r\n                handleSingUpModal(false)\r\n              }}\r\n            />\r\n          </AuthModal>\r\n        </Fragment>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/react-logo.20adfb35.png\";","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { Link } from 'react-router-dom'\r\nimport { MoviesSearchPage } from '../features/search/moviesSearchPage'\r\nimport { Navbar } from './Navbar'\r\nimport { Auth } from '../features/auth/Auth'\r\nimport { device, Title } from './lib'\r\nimport logo from './../style/react-logo.png'\r\n\r\nconst Head = styled.header`\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 200;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\r\n  background-color: #0b0b0b;\r\n  position: relative;\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(5, 1fr);\r\n  grid-template-areas:\r\n    '  lg lg in in at'\r\n    ' nv nv nv nv nv ';\r\n  width: 80%;\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  padding-top: 18px;\r\n  align-items: center;\r\n\r\n  @media ${device.laptopM} {\r\n    padding-bottom: 25px;\r\n    width: auto;\r\n    margin: 0 25px;\r\n    grid-template-columns: repeat(9, 1fr);\r\n    grid-template-areas:\r\n      'nv . lg lg lg lg . at .'\r\n      '. in in in in in in in .';\r\n  }\r\n\r\n  @media ${device.laptopS} {\r\n    grid-template-areas:\r\n      'nv lg lg lg lg lg lg at .'\r\n      '. in in in in in in in .';\r\n  }\r\n\r\n  @media ${device.mobileL} {\r\n    grid-template-areas:\r\n      'nv . . lg lg lg . . at'\r\n      'in in in in in in in in in';\r\n  }\r\n\r\n  @media ${device.mobileM} {\r\n    grid-template-areas:\r\n      'nv . lg lg lg lg lg lg lg'\r\n      '. at at at at . . . .'\r\n      'in in in in in in in in in';\r\n    margin: 0 15px;\r\n  }\r\n`\r\n\r\nconst Logo = styled(Link)`\r\n  grid-area: lg;\r\n  display: flex;\r\n  justify-self: center;\r\n  align-items: center;\r\n  position: relative;\r\n  z-index: 50;\r\n  img {\r\n    width: 40px;\r\n    margin-right: 10px;\r\n  }\r\n`\r\n\r\nexport function Header(): JSX.Element {\r\n  return (\r\n    <Head>\r\n      <Container>\r\n        <Logo to='/'>\r\n          <img src={logo} alt='logo' />\r\n          <Title size={'40px'}>Movies-Search</Title>\r\n        </Logo>\r\n\r\n        <MoviesSearchPage />\r\n        <Auth />\r\n        <Navbar />\r\n      </Container>\r\n    </Head>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { changeGenres } from './filterSlice'\r\nimport { RootState } from '../../app/store'\r\nimport { fetchGenres } from './filterSlice'\r\n// import style from './filterGenres.module.css'\r\nimport styled from 'styled-components'\r\nimport { device, Title } from '../../app/lib'\r\n\r\nconst Container = styled.div`\r\n  padding-left: 15px;\r\n  position: sticky;\r\n  top: 145px;\r\n  @media ${device.laptopS} {\r\n    text-align: center;\r\n    position: sticky;\r\n    top: 150px;\r\n  }\r\n`\r\n\r\nconst List = styled.ul`\r\n  @media ${device.laptopS} {\r\n    padding: 1px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-around;\r\n    text-align: center;\r\n  }\r\n`\r\n\r\nconst Item = styled.li`\r\n  @media ${device.laptopS} {\r\n    min-width: 150px;\r\n    margin-right: 15px;\r\n  }\r\n`\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  position: relative;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  font-size: 15px;\r\n  padding: 8px 8px 8px 40px;\r\n\r\n  &:hover {\r\n    background-color: #e1e1e1;\r\n  }\r\n\r\n  input {\r\n    position: absolute;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n    height: 0;\r\n    width: 0;\r\n  }\r\n\r\n  input:checked + label {\r\n    background-color: #0f9fbf;\r\n  }\r\n  input:checked ~ span::after {\r\n    display: block;\r\n  }\r\n`\r\n\r\nconst Checkmark = styled.span`\r\n  position: absolute;\r\n  top: 7px;\r\n  left: 10px;\r\n  height: 20px;\r\n  width: 20px;\r\n  background-color: #cfcfcf;\r\n\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    display: none;\r\n  }\r\n\r\n  &::after {\r\n    left: 6px;\r\n    top: 2px;\r\n    width: 5px;\r\n    height: 10px;\r\n    border: solid #0f9fbf;\r\n    border-width: 0 3px 3px 0;\r\n    -webkit-transform: rotate(45deg);\r\n    -ms-transform: rotate(45deg);\r\n    transform: rotate(45deg);\r\n  }\r\n`\r\n\r\nexport const FilterGenres = () => {\r\n  const dispatch = useDispatch()\r\n  const genres = useSelector((state: RootState) => state.filter.genres)\r\n\r\n  useEffect(() => {\r\n    if (genres.length === 0) {\r\n      dispatch(fetchGenres())\r\n    }\r\n  }, [])\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n    dispatch(changeGenres(e.currentTarget.name))\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Title size={'20px'}>Genres</Title>\r\n      <List>\r\n        {genres.length\r\n          ? genres.map((genre) => {\r\n              return (\r\n                <Item key={genre.id}>\r\n                  <Label>\r\n                    {genre.name}\r\n                    <input\r\n                      type='checkbox'\r\n                      onChange={handleChange}\r\n                      checked={genre.selected}\r\n                      name={genre.id}\r\n                    />\r\n                    <Checkmark />\r\n                  </Label>\r\n                </Item>\r\n              )\r\n            })\r\n          : null}\r\n      </List>\r\n    </Container>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { sortBy } from './filterSlice'\r\nimport { RootState } from './../../app/store'\r\nimport style from './filterSorting.module.css'\r\nimport styled from 'styled-components'\r\nimport { Title } from '../../app/lib'\r\n\r\nconst Container = styled.div`\r\n  text-align: right;\r\n  padding: 20px 25px 10px 0;\r\n`\r\n\r\nconst Items = styled.ul`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`\r\n\r\nexport const FilterSorting = () => {\r\n  const dispatch = useDispatch()\r\n  const active = useSelector((state: RootState) => state.filter.sortBy)\r\n\r\n  const handleSort = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    dispatch(sortBy(e.currentTarget.name))\r\n  }\r\n\r\n  const sortActivity = (field: string) => {\r\n    return active === `${field}.desc`\r\n      ? `${style.sortBtn} ${style.desc}`\r\n      : `${style.sortBtn} ${style.asc}`\r\n  }\r\n\r\n  return (\r\n    <Container className={style.sort}>\r\n      <Title size={'20px'}>Sort by</Title>\r\n      <Items>\r\n        <li>\r\n          <button\r\n            className={sortActivity('popularity')}\r\n            name='popularity'\r\n            onClick={handleSort}\r\n          >\r\n            popularity\r\n          </button>\r\n        </li>\r\n        <li className={style.item}>\r\n          <button\r\n            className={sortActivity('release_date')}\r\n            name='release_date'\r\n            onClick={handleSort}\r\n          >\r\n            date\r\n          </button>\r\n        </li>\r\n        <li className={style.item}>\r\n          <button\r\n            className={sortActivity('vote_average')}\r\n            name='vote_average'\r\n            onClick={handleSort}\r\n          >\r\n            rating\r\n          </button>\r\n        </li>\r\n      </Items>\r\n    </Container>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Paginate, { ReactPaginateProps } from 'react-paginate'\r\nimport style from './moviesPagination.module.css'\r\n\r\nexport type OnPageChangeCallback = ReactPaginateProps['onPageChange']\r\n\r\ninterface Props {\r\n  currentPage: number\r\n  pageCount: number\r\n  onPageChange?: OnPageChangeCallback\r\n}\r\n\r\nexport const Pagination = ({\r\n  currentPage,\r\n  onPageChange,\r\n  pageCount,\r\n}: Props): JSX.Element => {\r\n  return (\r\n    <Paginate\r\n      forcePage={currentPage}\r\n      pageCount={pageCount}\r\n      marginPagesDisplayed={2}\r\n      pageRangeDisplayed={5}\r\n      onPageChange={onPageChange}\r\n      nextLabel='&rarr;'\r\n      previousLabel='&larr;'\r\n      containerClassName={style.pagination}\r\n      activeClassName={style.active}\r\n    />\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/correct.0dc23621.svg\";","export default __webpack_public_path__ + \"static/media/minus.00a774f2.svg\";","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Image } from '../../app/Image'\r\nimport { MovieType } from '../../api/movieApi'\r\nimport { useAuth } from '../../context/authContext'\r\nimport { Title, Thumb } from '../../app/lib'\r\nimport star from './../../style/star.svg'\r\nimport add from './../../style/correct.svg'\r\nimport remove from './../../style/minus.svg'\r\nimport styled from 'styled-components'\r\n\r\ntype PropMovie = {\r\n  movieData: MovieType\r\n  isFav: boolean\r\n}\r\n\r\nconst MovieContainer = styled.div`\r\n  position: relative;\r\n  z-index: 5;\r\n  height: 100%;\r\n  text-align: center;\r\n  background-color: #0b0b0b;\r\n  color: #fff;\r\n  padding-bottom: 10px;\r\n  font-weight: 600;\r\n  box-shadow: 2px 0px 5px 2px rgba(0, 0, 0, 0.75);\r\n  border-radius: 0 0 5px 5px;\r\n`\r\n\r\ntype ContainerProps = {\r\n  border?: boolean\r\n}\r\nconst Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 5px 0;\r\n  ${(props) =>\r\n    props.border ? 'border-bottom: 1px solid rgb(80, 80, 80);' : ''}\r\n`\r\n\r\nconst Button = styled.button`\r\n  position: absolute;\r\n  z-index: 40;\r\n  width: 32px;\r\n  height: 32px;\r\n  top: 10px;\r\n  right: -10px;\r\n  background-color: transparent;\r\n  border: none;\r\n  cursor: pointer;\r\n  outline: none;\r\n  border: 1px solid #3c4043;\r\n  background-color: #212121;\r\n`\r\n\r\nconst ContainerDesc = styled.div`\r\n  padding: 10px 12px 0 12px;\r\n`\r\n\r\nconst ContainerImg = styled.div`\r\n  height: 315px;\r\n`\r\n\r\nexport const Movie = React.memo(({ movieData, isFav }: PropMovie) => {\r\n  const {\r\n    title,\r\n    vote_average = 0,\r\n    poster_path,\r\n    release_date,\r\n    first_air_date,\r\n    name,\r\n    media_type,\r\n    id,\r\n  } = movieData\r\n  const {\r\n    currentUser,\r\n    handleLoginModal,\r\n    addToStorage,\r\n    deleteFromStorage,\r\n  } = useAuth()\r\n\r\n  const handleFavorite = () => {\r\n    if (!currentUser) {\r\n      handleLoginModal(true)\r\n      return\r\n    }\r\n    isFav ? deleteFromStorage(movieData.id) : addToStorage(movieData.id)\r\n  }\r\n\r\n  const titleValue = title || name\r\n  const dateValue =\r\n    release_date || first_air_date\r\n      ? (release_date || first_air_date).split(/-/)[0]\r\n      : null\r\n\r\n  const link = `/${media_type ? media_type : 'movie'}/${id}`\r\n  return (\r\n    <MovieContainer>\r\n      <ContainerImg>\r\n        <Link to={link}>\r\n          <Image src={`https://image.tmdb.org/t/p/w300/${poster_path}`} />\r\n        </Link>\r\n      </ContainerImg>\r\n\r\n      <ContainerDesc>\r\n        <Link to={`/${media_type}/${id}`}>\r\n          <Title>{titleValue}</Title>\r\n        </Link>\r\n        <Container border>\r\n          <Title>Age: </Title>\r\n          <Title>{dateValue}</Title>\r\n        </Container>\r\n\r\n        <Container>\r\n          <Title>Rating</Title>\r\n          <Title>\r\n            {vote_average}\r\n            <Thumb width={'10px'} src={star} alt='vote' />\r\n          </Title>\r\n        </Container>\r\n      </ContainerDesc>\r\n      <Button onClick={handleFavorite}>\r\n        <img src={isFav ? add : remove} alt='add' />\r\n      </Button>\r\n    </MovieContainer>\r\n  )\r\n})\r\n\r\nMovie.displayName = 'Moviu'\r\n","import React from 'react'\r\nimport { MovieType } from '../../api/movieApi'\r\nimport { Spinner } from '../../app/Spinner'\r\nimport { device } from '../../app/lib'\r\nimport { Movie } from './moviesListItem'\r\nimport styled from 'styled-components'\r\n\r\nconst ListItems = styled.ul`\r\n  position: relative;\r\n  flex-wrap: wrap;\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nconst Item = styled.li`\r\n  width: 210px;\r\n  max-height: 480px;\r\n  margin-right: 35px;\r\n  margin-bottom: 45px;\r\n  @media ${device.mobileM} {\r\n    margin-right: 0;\r\n  }\r\n`\r\ninterface Props {\r\n  status: string\r\n  movies: MovieType[]\r\n  favoriteList: string[]\r\n}\r\n\r\nexport const MoviesList = ({\r\n  status,\r\n  movies,\r\n  favoriteList,\r\n}: Props): JSX.Element => {\r\n  if (status === 'pending') {\r\n    return <Spinner />\r\n  }\r\n\r\n  if (status == 'resolved' && movies.length == 0) {\r\n    return <h2>Not found</h2>\r\n  }\r\n\r\n  return (\r\n    <ListItems>\r\n      {movies.map((movie) => {\r\n        const isFav = favoriteList.some((id) => id === movie.id)\r\n        return (\r\n          <Item key={movie.id}>\r\n            <Movie movieData={movie} isFav={isFav} />\r\n          </Item>\r\n        )\r\n      })}\r\n    </ListItems>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { usePrevious } from '../../hooks/usePrevious'\r\nimport { useAsync } from '../../hooks/useAsync'\r\nimport { useAuth } from '../../context/authContext'\r\nimport { isEqual } from 'lodash'\r\nimport { RootState } from '../../app/store'\r\nimport { Pagination, OnPageChangeCallback } from './moviesPagination'\r\nimport { MoviesList } from './MoviesList'\r\nimport styled from 'styled-components'\r\nimport {\r\n  pathnameType,\r\n  MoviesResult,\r\n  getMovies,\r\n  Options,\r\n} from '../../api/movieApi'\r\n\r\nconst Container = styled.div`\r\n  width: 80%;\r\n  margin: 55px auto;\r\n`\r\n\r\nexport function MoviesContainer(): JSX.Element {\r\n  const location = useLocation()\r\n  const { genres, sortBy } = useSelector((state: RootState) => state.filter)\r\n  const { search } = useLocation()\r\n  const { favoriteList } = useAuth()\r\n\r\n  const pathname = location.pathname as pathnameType\r\n  const [page, setPage] = useState(1)\r\n  const onPageChange: OnPageChangeCallback = (selectedItem) => {\r\n    const newPage = selectedItem.selected + 1\r\n    setPage(newPage)\r\n  }\r\n  const options: Options = { pathname, page }\r\n\r\n  if (pathname === '/filter') {\r\n    const selectedGenres = genres\r\n      .filter((genre) => genre.selected)\r\n      .map((genre) => genre.id)\r\n\r\n    options.sortBy = sortBy\r\n    options.genres = selectedGenres\r\n  } else if (pathname === '/search') {\r\n    options.search = search\r\n  }\r\n  const { run, status, data } = useAsync<MoviesResult>()\r\n\r\n  const previousOptions = usePrevious(options)\r\n  useEffect(() => {\r\n    if (!options) return\r\n    if (isEqual(previousOptions, options)) return\r\n    run(getMovies(options))\r\n  }, [options])\r\n\r\n  return (\r\n    <Container>\r\n      {data && (\r\n        <>\r\n          <MoviesList\r\n            status={status}\r\n            movies={data.moviesList}\r\n            favoriteList={favoriteList}\r\n          />\r\n          {Boolean(data.totalPages) && (\r\n            <Pagination\r\n              pageCount={data.totalPages}\r\n              currentPage={page}\r\n              onPageChange={onPageChange}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n","import { useEffect, useRef } from 'react'\r\n\r\nexport function usePrevious<T>(value: T): T {\r\n  const ref = useRef<T>()\r\n  useEffect(() => {\r\n    ref.current = value\r\n  })\r\n  return ref.current as T\r\n}\r\n","import React from 'react'\r\nimport { FilterGenres } from './filterGenres'\r\nimport { FilterSorting } from './filterSorting'\r\nimport { MoviesContainer } from '../movies/MoviesContainer'\r\nimport styled from 'styled-components'\r\nimport { device } from '../../app/lib'\r\n\r\nconst Filter = styled.div`\r\n  position: relative;\r\n  width: 75%;\r\n  min-height: 70vh;\r\n  margin: 0 auto;\r\n  display: grid;\r\n  background-color: rgb(241, 241, 241);\r\n  grid-template-columns: 6fr 1fr;\r\n  grid-template-areas:\r\n    'sr gl'\r\n    'ml gl';\r\n  grid-template-rows: 80px;\r\n  min-height: 87vh;\r\n  @media ${device.laptopS} {\r\n    grid-template-areas:\r\n      ' gl'\r\n      'sr'\r\n      'ml';\r\n    grid-template-columns: 1fr;\r\n  }\r\n`\r\n\r\nconst Sort = styled.div`\r\n  grid-area: sr;\r\n  max-height: 45px;\r\n  border-bottom: 1px solid #ddd;\r\n`\r\n\r\nconst Genres = styled.div`\r\n  grid-area: gl;\r\n  border-left: 1px solid #ddd;\r\n`\r\n\r\nconst Movies = styled.div`\r\n  grid-area: ml;\r\n`\r\n\r\nexport const FilterPage = (): JSX.Element => {\r\n  return (\r\n    <Filter>\r\n      <Sort>\r\n        <FilterSorting />\r\n      </Sort>\r\n      <Genres>\r\n        <FilterGenres />\r\n      </Genres>\r\n      <Movies>\r\n        <MoviesContainer />\r\n      </Movies>\r\n    </Filter>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useAuth } from '../../context/authContext'\r\nimport { useAsync } from '../../hooks/useAsync'\r\nimport { getFavorite, MovieType } from '../../api/movieApi'\r\nimport { MoviesList } from './MoviesList'\r\nimport styled from 'styled-components'\r\n\r\nconst Container = styled.div`\r\n  width: 80%;\r\n  margin: 55px auto;\r\n`\r\nexport function MoviesContainerFavorite(): JSX.Element {\r\n  const { favoriteList } = useAuth()\r\n  const { run, data, status } = useAsync<MovieType[]>()\r\n  useEffect(() => {\r\n    run(getFavorite(favoriteList))\r\n  }, [])\r\n\r\n  return (\r\n    <Container>\r\n      {data && (\r\n        <MoviesList movies={data} status={status} favoriteList={favoriteList} />\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { MovieType, DetailsResult } from '../../api/movieApi'\r\nimport { useFetch } from '../../hooks/useFetch'\r\nimport { useAuth } from '../../context/authContext'\r\nimport { MoviesList } from './MoviesList'\r\nimport { Image } from '../../app/Image'\r\nimport { Title, Text, device } from '../../app/lib'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport remove from './../../style/minus.svg'\r\nimport vote from './../../style/star.svg'\r\nimport add from './../../style/correct.svg'\r\nimport styled from 'styled-components'\r\n\r\ninterface PropsParams {\r\n  movieId: string\r\n  media_type: string\r\n}\r\ninterface PropsType {\r\n  data: DetailsResult\r\n  onFavorite: (id: string) => void\r\n  similarMovie: MovieType[]\r\n  isFavorite: boolean\r\n  favoriteList: string[]\r\n  statusSimilar: string\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  position: relative;\r\n  z-index: 5;\r\n  width: 70%;\r\n  height: 100%;\r\n  margin: 100px auto;\r\n  box-sizing: border-box;\r\n  padding: 50px;\r\n  color: #fff;\r\n  background: #0b0b0b;\r\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.75);\r\n  @media ${device.laptopL} {\r\n    width: 80%;\r\n  }\r\n  @media ${device.laptopS} {\r\n    justify-content: center;\r\n  }\r\n  @media ${device.mobileL} {\r\n    width: 100%;\r\n    margin: 0 auto;\r\n  }\r\n`\r\n\r\nconst ContainerImage = styled.div`\r\n  margin-right: 75px;\r\n  width: 30%;\r\n  @media ${device.laptopM} {\r\n    margin-right: 45px;\r\n    width: 250px;\r\n    img {\r\n      width: 250px;\r\n    }\r\n  }\r\n  @media ${device.laptopS} {\r\n    width: 350px;\r\n    margin: 0 auto;\r\n    margin-bottom: 25px;\r\n  }\r\n  @media ${device.mobileL} {\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    margin-bottom: 25px;\r\n  }\r\n`\r\nconst ContainerDesc = styled.div`\r\n  width: 55%;\r\n  margin-bottom: 50px;\r\n  @media ${device.laptopM} {\r\n    width: 100%;\r\n  }\r\n`\r\nconst ContainerInfo = styled.div`\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n`\r\n\r\nconst Heading = styled(ContainerInfo)`\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`\r\n\r\nconst Desc = styled(ContainerInfo)`\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n`\r\n\r\nconst Vote = styled.span`\r\n  font-size: 30px;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  img {\r\n    width: 15px;\r\n    height: 15px;\r\n    margin-left: 5px;\r\n\r\n`\r\n\r\nconst Tagline = styled.h2`\r\n  font-size: 16px;\r\n  color: rgb(146, 146, 146);\r\n  font-weight: 600;\r\n  flex-basis: 20%;\r\n`\r\n\r\nconst TextDesc = styled(Text)`\r\n  flex-basis: 80%;\r\n  margin-bottom: 10px;\r\n`\r\n\r\nconst Button = styled.button`\r\n  position: relative;\r\n  display: flex;\r\n  color: #fff;\r\n  font-size: 17px;\r\n  background: #202020;\r\n  padding: 10px 30px;\r\n  margin-top: 20px;\r\n  border-radius: 4px;\r\n  outline: none;\r\n  img {\r\n    width: 16px;\r\n    margin-right: 10px;\r\n  }\r\n`\r\n\r\nexport const MovieDetails = ({\r\n  data,\r\n  onFavorite,\r\n  similarMovie,\r\n  statusSimilar,\r\n  favoriteList,\r\n  isFavorite,\r\n}: PropsType): JSX.Element => {\r\n  const { movieId, media_type } = useParams<PropsParams>()\r\n  const location = useLocation()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [location.key])\r\n\r\n  const {\r\n    title,\r\n    vote_average,\r\n    poster_path,\r\n    overview,\r\n    tagline,\r\n    release_date,\r\n    first_air_date,\r\n    genres = [],\r\n    runtime,\r\n    episode_run_time,\r\n    name,\r\n    id,\r\n    production_countries = [],\r\n    budget = 0,\r\n  } = data.movieDetails\r\n\r\n  const genresList = genres.length\r\n    ? genres.map((movie) => ` ${movie.name.toLowerCase()}`).join()\r\n    : null\r\n  const countries = production_countries.length\r\n    ? production_countries.map((e) => ` ${e.name}`).join()\r\n    : null\r\n  const castList = data.cast\r\n    ? data.cast\r\n        .slice(0, 10)\r\n        .map((item) => ` ${item.name}`)\r\n        .join()\r\n    : null\r\n  const formatBudget = `$ ${budget\r\n    .toString()\r\n    .replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.')}`\r\n\r\n  return (\r\n    <Container>\r\n      <ContainerImage>\r\n        <Image src={`https://image.tmdb.org/t/p/w500/${poster_path}`} />\r\n      </ContainerImage>\r\n      <ContainerDesc>\r\n        <Heading>\r\n          <h2> {title || name} </h2>\r\n          <Vote>\r\n            {`${vote_average} `}\r\n            <img src={vote} alt='vote' />\r\n          </Vote>\r\n        </Heading>\r\n\r\n        {release_date || first_air_date ? (\r\n          <Desc>\r\n            <Tagline>Year</Tagline>\r\n            <TextDesc>\r\n              {(release_date || first_air_date).split('-')[0]}\r\n            </TextDesc>\r\n          </Desc>\r\n        ) : null}\r\n\r\n        {countries ? (\r\n          <Desc>\r\n            <Tagline>Country</Tagline>\r\n            <TextDesc>{countries}</TextDesc>\r\n          </Desc>\r\n        ) : null}\r\n\r\n        <Desc>\r\n          <Tagline>Genres</Tagline>\r\n          <TextDesc>{genresList}</TextDesc>\r\n        </Desc>\r\n\r\n        {tagline ? (\r\n          <Desc>\r\n            <Tagline>Tag</Tagline>\r\n            <TextDesc>{tagline}</TextDesc>\r\n          </Desc>\r\n        ) : null}\r\n\r\n        <Desc>\r\n          <Tagline>Cast</Tagline>\r\n          <TextDesc>{castList}</TextDesc>\r\n        </Desc>\r\n\r\n        <Desc>\r\n          <Tagline>Runtime</Tagline>\r\n          <TextDesc>\r\n            {episode_run_time || runtime} {' min'}\r\n          </TextDesc>\r\n        </Desc>\r\n\r\n        <Desc>\r\n          <Tagline>Budget</Tagline>\r\n          <TextDesc>{formatBudget}</TextDesc>\r\n        </Desc>\r\n\r\n        <Title size={'30px'}>Overview</Title>\r\n        <Text size={'18px'}> {overview} </Text>\r\n\r\n        <Button onClick={() => onFavorite(id)}>\r\n          <img src={isFavorite ? add : remove} alt='favorite' />\r\n          {isFavorite ? 'Delete from Favorite' : 'Add to Favorite'}\r\n        </Button>\r\n      </ContainerDesc>\r\n      <div>\r\n        <Title size={'25px'}>Recommendations</Title>\r\n        {similarMovie ? (\r\n          <MoviesList\r\n            movies={similarMovie}\r\n            favoriteList={favoriteList}\r\n            status={statusSimilar}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useAuth } from './../../context/authContext'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { MovieDetails } from './MovieDetails'\r\nimport { useAsync } from '../../hooks/useAsync'\r\nimport {\r\n  DetailsResult,\r\n  getDetails,\r\n  getMovies,\r\n  MoviesResult,\r\n} from '../../api/movieApi'\r\n\r\ninterface PropsParams {\r\n  movieId: string\r\n  media_type: string\r\n}\r\n\r\nexport const MovieContainerDetails = () => {\r\n  const { movieId, media_type } = useParams<PropsParams>()\r\n  const location = useLocation()\r\n  const {\r\n    currentUser,\r\n    handleLoginModal,\r\n    addToStorage,\r\n    deleteFromStorage,\r\n    favoriteList,\r\n  } = useAuth()\r\n  const {\r\n    data: dataDetails,\r\n    run: fetchDetails,\r\n    status: statusDetails,\r\n  } = useAsync<DetailsResult>()\r\n  const {\r\n    data: dataSimilar,\r\n    run: fetchSimilar,\r\n    status: statusSimilar,\r\n  } = useAsync<MoviesResult>()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [location.key])\r\n\r\n  useEffect(() => {\r\n    fetchSimilar(getMovies({ pathname: '/similar', movieId }))\r\n    fetchDetails(getDetails(movieId, media_type))\r\n  }, [movieId])\r\n\r\n  const isFavorite = favoriteList.some((id) => id == movieId)\r\n\r\n  const handleFavorite = (id: string) => {\r\n    if (!currentUser) {\r\n      handleLoginModal(true)\r\n      return\r\n    }\r\n    isFavorite ? deleteFromStorage(id) : addToStorage(id)\r\n  }\r\n\r\n  return (\r\n    dataDetails &&\r\n    dataSimilar && (\r\n      <MovieDetails\r\n        data={dataDetails}\r\n        onFavorite={handleFavorite}\r\n        isFavorite={isFavorite}\r\n        similarMovie={dataSimilar.moviesList}\r\n        statusSimilar={statusSimilar}\r\n        favoriteList={favoriteList}\r\n      />\r\n    )\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Route, Switch } from 'react-router'\r\nimport { Header } from './Header'\r\nimport { FilterPage } from '../features/filter/filerPage'\r\nimport { MoviesContainerFavorite } from '../features/movies/MoviesContainerFavorite'\r\nimport { MoviesContainer } from '../features/movies/MoviesContainer'\r\nimport { MovieContainerDetails } from './../features/movies/MoviesContainerDetails'\r\n\r\nfunction App(): JSX.Element {\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Switch>\r\n        <Route exact path='/' component={MoviesContainer} />\r\n        <Route exact path='/upcoming' component={MoviesContainer} />\r\n        <Route exact path='/top_rated' component={MoviesContainer} />\r\n        <Route exact path='/search' component={MoviesContainer} />\r\n        <Route exact path='/favorite' component={MoviesContainerFavorite} />\r\n        <Route exact path='/filter' component={FilterPage} />\r\n        <Route\r\n          exact\r\n          path={`/:media_type/:movieId`}\r\n          component={MovieContainerDetails}\r\n        />\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { AuthProvider } from './context/authContext'\r\nimport firebase from 'firebase/app'\r\nimport store from './app/store'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport App from './app/App'\r\nimport './style/app.css'\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: 'AIzaSyCxdPvr7NzjTO47p9_GCTcoBnSiIGUGxWA',\r\n  authDomain: 'movies-search-35388.firebaseapp.com',\r\n  projectId: 'movies-search-35388',\r\n  storageBucket: 'movies-search-35388.appspot.com',\r\n  messagingSenderId: '558665270121',\r\n  appId: '1:558665270121:web:56e191207195258c4fb3f8',\r\n})\r\n\r\nexport const auth = app.auth()\r\nexport const db = firebase.firestore()\r\n\r\nReactDOM.render(\r\n  <AuthProvider>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </AuthProvider>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}